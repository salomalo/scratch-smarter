(function(){"use strict";jQuery(document).ready(function(a){var b,c,d,e,f,g;if(g=null!=(e=window.wc_memberships_admin)?e:{},d=null!=(f=window.pagenow)?f:"","woocommerce_page_wc-settings"===d)return a("#wc_memberships_restriction_mode").change(function(b){return"redirect"===a(this).val()?a("#wc_memberships_redirect_page_id").closest("tr").show():a("#wc_memberships_redirect_page_id").closest("tr").hide(),"hide"===a(this).val()?a("#wc_memberships_show_excerpts").closest("tr").hide():a("#wc_memberships_show_excerpts").closest("tr").show()}).change(),a("select.js-select-edit-message-group").change(function(b){var c,d;return d=a(this).val(),c=a("form#mainform").find("tr"),c.each(function(b,c){var e,f,g;return g=a(c).closest("table"),e=g.prev(),f=e.prev(),a(c).find(d).length?(g.show(),e.show(),f.show()):a(c).find(".js-select-edit-message-group").length?void 0:(g.hide(),e.hide(),f.hide())})}).change(),a("#wc_memberships_display_member_login_notice").change(function(b){return"never"===a(this).val()?a("#wc_memberships_messages\\[member_login_message\\]").closest("tr").hide():a("#wc_memberships_messages\\[member_login_message\\]").closest("tr").show()}).change(),c=a("#woocommerce_WC_Memberships_User_Membership_Ending_Soon_Email_send_days_before"),b=a("#woocommerce_WC_Memberships_User_Membership_Renewal_Reminder_Email_send_days_after"),(c.length>0||b.length>0)&&(a(".woocommerce-save-button").after('<button id="wc-memberships-user-memberships-reschedule-events" name="reschedule" class="button button-large" style="margin-left:12px;">'+g.i18n.reschedule+"</button>"),a("button#wc-memberships-user-memberships-reschedule-events").on("click",function(b){var c,d;return b.preventDefault(),c=a("input#wc-memberships-reschedule-user-memberships-events-ongoing-job-id").val(),d={action:"wc_memberships_get_batch_job",security:g.get_memberships_batch_job_nonce,job_name:"user_memberships_reschedule_events",job_id:c?c:"",process:!0},a.post(g.ajax_url,d,function(a){return a.success?new WC_Memberships_Modal_View_Reschedule_User_Memberships_Events({data:{job:null,error:null}}):console.log(a)})})),window.WC_Memberships_Modal_View_Reschedule_User_Memberships_Events=WC_Memberships_Modal_View.extend({template_id:"wc-memberships-modal-reschedule-user-memberships-events",initialize:function(b){var c,d,e,f;return f=this,c=b.data.job?b.data.job:null,e=b.data.error?b.data.error:null,WC_Memberships_Modal_View_Reschedule_User_Memberships_Events.__super__.initialize.apply(this,arguments),f.unblock(),c&&c.id?"completed"===c.status||e?window.onbeforeunload=null:(e||(window.onbeforeunload=function(){return g.i18n.confirm_stop_batch_job}),d={action:"wc_memberships_get_batch_job",security:g.get_memberships_batch_job_nonce,job_name:c.name,job_id:c.id,process:!0},a.post(g.ajax_url,d,function(a){return a.data?(f.close(),new WC_Memberships_Modal_View_Reschedule_User_Memberships_Events({data:{job:a.success?a.data:null,error:a.success?null:a.data}})):console.log(a)})):a("#btn-start").on("click",function(b){return b.preventDefault(),f.block(),d={action:"wc_memberships_reschedule_user_memberships_events",security:g.reschedule_user_memberships_events_nonce},a.post(g.ajax_url,d,function(a){return a.data?(f.close(),new WC_Memberships_Modal_View_Reschedule_User_Memberships_Events({data:{job:a.success?a.data:null,error:a.success?null:a.data}})):console.log(a)})})}})})}).call(this);