!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d,e=wp.wordpoints.hooks.model.Args,f=wp.wordpoints.hooks.view.l10n;d=Backbone.Model.extend({defaults:{events:{},entities:{}},getEventArg:function(a,b){var c=this.get("events")[a];if(!c||!c.args||!c.args[b])return!1;var d=this.getEntity(b);return _.extend(d.attributes,c.args[b]),d},getEventArgs:function(a){var b=new e,c=this.get("events")[a];return"undefined"==typeof c||"undefined"==typeof c.args?b:(_.each(c.args,function(a){var c=this.getEntity(a.slug);c&&(_.extend(c.attributes,a),b.add(c))},this),b)},isEventRepeatable:function(a){var b=this.getEventArgs(a);return _.isEmpty(b.where({is_stateful:!1}))},parseArgSlug:function(a){var b=!1,c=!1;"{}"===a.slice(-2)&&(b=!0,a=a.slice(0,-2));var d=a.split(":",2);return d[1]&&(c=d[0],a=d[1]),{slug:a,isArray:b,isAlias:c}},_getEntityData:function(a){var b=this.parseArgSlug(a),c=this.get("entities")[b.slug];return!!c&&(c=_.extend({},c,{slug:a,_canonical:b.slug}))},getEntity:function(a){if(a instanceof i)return a;var b=this._getEntityData(a);return!!b&&(b=new i(b))},getChildren:function(a){var b=this._getEntityData(a);if(!b)return!1;var c=new e;return _.each(b.children,function(a){var b=d.type[a._type];b&&c.add(new b(a))},this),c},getChild:function(a,b){var c=this._getEntityData(a);if(!c)return!1;var e=c.children[b];if(!e)return!1;var f=d.type[e._type];if(f)return new f(e)},getArgsFromHierarchy:function(a,b){for(var c,d,e,f=[],g=0;g<a.length;g++){if(e=a[g],c){if(!c.getChild)return!1;d=c.getChild(e)}else d=b&&this.parseArgSlug(e).isAlias?this.getEventArg(b,e):this.getEntity(e);if(!d)return!1;c=d,f.push(d)}return f},getHierarchiesMatching:function(a){var b=[],c=[],d=[];a=_.extend({},a),a.event&&(a.top=this.getEventArgs(a.event).models),b=a.top?_.isArray(a.top)?a.top:[a.top]:_.keys(this.get("entities"));var e=this._hierarchyMatcher(a,d,c);return e?(_.each(b,function(a){var b=this.getEntity(a);this._getHierarchiesMatching(b,d,c,e)},this),c):c},_hierarchyMatcher:function(a,b,c){var d,f=[];return a.end&&f.push({method:_.isFunction(a.end)?"filter":"where",arg:a.end}),!!f&&function(a,g){var h,i=[];for(a=a instanceof Backbone.Collection?a.models:_.clone(a),_.each(a,function(a){a.hierachy=g,i.push(a)}),i=new e(i),d=0;d<f.length;d++){if(h=i[f[d].method](f[d].arg),_.isEmpty(h))return;i.reset(h)}i.each(function(a){b.push(a),c.push(_.clone(b)),b.pop()})}},_getHierarchiesMatching:function(a,b,c,d){var e;if(0===b.length&&d([a],b),a instanceof h&&(e=a.getChildren()),e){if(b.length%2===0){var f=_.filter(b,function(b){return b.get("slug")===a.get("slug")});if(f.length>1)return}b.push(a),d(e,b),e.each(function(a){this._getHierarchiesMatching(a,b,c,d)},this),b.pop()}},buildHierarchyHumanId:function(a){var b="";return _.each(a,function(a){if(a){var c=a.get("title");if(c){if(""!==b){if(a instanceof i)return;b+=f.separator}b+=c}}}),b}},{type:{}});var g=Backbone.Model.extend({type:"arg",idAttribute:"slug",defaults:function(){return{_type:this.type}}}),h=g.extend({getChild:function(){},getChildren:function(){}}),i=h.extend({type:"entity",getChild:function(a){return wp.wordpoints.hooks.Args.getChild(this.get("slug"),a)},getChildren:function(){return wp.wordpoints.hooks.Args.getChildren(this.get("slug"))}}),j=h.extend({type:"relationship",parseArgSlug:function(a){var b=!1;return"{}"===a.slice(-2)&&(b=!0,a=a.slice(0,-2)),{isArray:b,slug:a}},getChild:function(a){var b;if(a!==this.get("secondary"))return!1;var c=this.parseArgSlug(a);return b=c.isArray?new k({entity_slug:c.slug}):wp.wordpoints.hooks.Args.getEntity(c.slug)},getChildren:function(){return new e([this.getChild(this.get("secondary"))])}}),k=g.extend({type:"array",initialize:function(){this.set("slug",this.get("entity_slug")+"{}")}}),l=g.extend({type:"attr"});d.type.entity=i,d.type.relationship=j,d.type.array=k,d.type.attr=l,b.exports=d},{}],2:[function(a,b,c){var d=wp.wordpoints.hooks.template,e=Backbone.Model.extend({idAttribute:"slug",defaults:{inputType:"text"},template:d("hook-reaction-field"),createField:function(a){return this.template(_.extend({},a,{type:this.get("inputType")}))}});b.exports=e},{}],3:[function(a,b,c){var d,e=wp.wordpoints.hooks,f=e.view.data.extensions,g=e.util.extend,h=e.util.emptyFunction;d=Backbone.Model.extend({idAttribute:"slug",initialize:function(){this.listenTo(e,"reaction:view:init",this.initReaction),this.listenTo(e,"reaction:model:validate",this.validateReaction),this.data=f[this.id],this.__child__.initialize.apply(this,arguments)},initReaction:h("initReaction"),validateReaction:h("validateReaction")},{extend:g}),b.exports=d},{}],4:[function(a,b,c){var d,e=wp.wordpoints.hooks.controller.Extension;d=Backbone.Collection.extend({model:e}),b.exports=d},{}],5:[function(a,b,c){var d,e=Backbone.$,f=wp.wordpoints.hooks.DataTypes,g=wp.wordpoints.hooks,h=wp.wordpoints.hooks.view.l10n,i=wp.wordpoints.hooks.template,j=wp.wordpoints.hooks.textTemplate;d=Backbone.Model.extend({defaults:{fields:{}},template:i("hook-reaction-field"),templateHidden:i("hook-reaction-hidden-field"),templateSelect:i("hook-reaction-select-field"),emptyMessage:j(h.emptyField),initialize:function(){this.listenTo(g,"reaction:model:validate",this.validateReaction),this.listenTo(g,"reaction:view:init",this.initReaction),this.attributes.fields.event={type:"hidden",required:!0}},create:function(a,b,c){switch("undefined"==typeof b&&c["default"]&&(b=c["default"]),c=_.extend({name:this.getFieldName(a),value:b},c),c.type){case"select":return this.createSelect(c);case"hidden":return this.templateHidden(c)}var d=f.get(c.type);return d?d.createField(c):this.template(c)},createSelect:function(a,b){var c=e("<div></div>").html(b||this.templateSelect(a)),d="",f="undefined"==typeof a.value||"undefined"!=typeof a.options[a.value];return c||(c=e("<div></div>").html(this.templateSelect(a))),_.each(a.options,function(b,c){var g,h;b.value?(g=b.value,h=b.label,f||a.value!==g||(f=!0)):(g=c,h=b),d+=e("<option></option>").attr("value",g).text(h?h:g).prop("outerHTML")}),f||(d+=e("<option></option>").attr("value",a.value).text(a.value).prop("outerHTML")),c.find("select").append(d).val(a.value).find(":selected").attr("selected",!0),c.html()},getFieldName:function(a){return _.isArray(a)&&(a=_.clone(a),a=1===a.length?a.shift():a.shift()+"["+a.join("][")+"]"),a},getAttrSlug:function(a,b){var c=b,d=[],e=c.indexOf("[");return-1===e?c:(0!==e&&(d.push(c.substring(0,e)),c=c.substring(e)),d=d.concat(c.slice(1,-1).split("][")),""===d[d.length-1]&&d.pop(),d)},getFormData:function(a,b){var c={},d=b.find(":input").serializeArray();return _.each(d,function(a){c[a.name]=a.value}),b.find("input[type=checkbox]").each(function(a,b){"undefined"==typeof c[b.name]&&(c[b.name]=!1)}),this.arrayify(c)},arrayify:function(a){var b={};return _.each(a,function(a,c){var d=[],e=b,f=!1,g=c.indexOf("[");if(-1===g)return void(e[c]=a);0!==g&&(d.push(c.substring(0,g)),c=c.substring(g)),d=d.concat(c.slice(1,-1).split("][")),""===d[d.length-1]&&(f=!0,d.pop());var h=d.pop();_.each(d,function(a){e=e[a]=e[a]||{}}),f?("undefined"==typeof e[h]&&(e[h]=[]),e[h].push(a)):e[h]=a}),b},validate:function(a,b,c){_.each(a,function(a,d){!a.required||"undefined"!=typeof b[d]&&""!==e.trim(b[d])||c.push({field:d,message:this.emptyMessage(a)})},this)},initReaction:function(a){this.listenTo(a,"render:settings",this.renderReaction)},renderReaction:function(a,b,c){var d="";_.each(this.get("fields"),function(a,b){d+=this.create(b,c.model.get(b),a)},this),a.html(d)},validateReaction:function(a,b,c){this.validate(this.get("fields"),b,c)}}),b.exports=d},{}],6:[function(a,b,c){var d,e=wp.wordpoints.hooks.controller.Extension,f=wp.wordpoints.hooks,g=f.util.emptyFunction;d=e.extend({defaults:{arg_types:[],action_types:[]},initialize:function(){this.listenTo(f,"reactions:view:init",this.listenToDefaults),this.__child__.initialize.apply(this,arguments)},listenToDefaults:function(a){this.listenTo(a,"hook-reaction-defaults",this.filterReactionDefaults)},filterReactionDefaults:g("filterReactionDefaults")}),b.exports=d},{}],7:[function(a,b,c){var d,e=wp.wordpoints.hooks.controller.Extensions,f=wp.wordpoints.hooks.controller.Reactor;d=e.extend({model:f}),b.exports=d},{}],8:[function(a,b,c){var d,e=wp.wordpoints.hooks,f=jQuery;f(function(){e.trigger("init"),f(".wordpoints-hook-reaction-group-container").each(function(){var a,b=f(this);a=b.find(".wordpoints-hook-reaction-group").data("wordpoints-hooks-hook-event"),new e.view.Reactions({el:b,model:new e.model.Reactions(d.reactions[a])})})}),e.view.l10n=window.WordPointsHooksAdminL10n||{},d=e.view.data=window.WordPointsHooksAdminData||{},e.controller.DataType=a("./controllers/data-type.js"),e.DataTypes=new Backbone.Collection([],{model:e.controller.DataType}),e.DataTypes.add({slug:"text"}),e.DataTypes.add({slug:"integer",inputType:"number"}),e.DataTypes.add({slug:"decimal_number",inputType:"number"}),e.controller.Fields=a("./controllers/fields.js"),e.controller.Extension=a("./controllers/extension.js"),e.controller.Extensions=a("./controllers/extensions.js"),e.controller.Reactor=a("./controllers/reactor.js"),e.controller.Reactors=a("./controllers/reactors.js"),e.controller.Args=a("./controllers/args.js"),e.Fields=new e.controller.Fields({fields:d.fields}),e.Reactors=new e.controller.Reactors,e.Extensions=new e.controller.Extensions,e.Args=new e.controller.Args({events:d.events,entities:d.entities}),e.view.Base=a("./views/base.js"),e.view.Reaction=a("./views/reaction.js"),e.view.Reactions=a("./views/reactions.js"),e.view.ArgSelector=a("./views/arg-selector.js"),e.view.ArgSelectors=a("./views/arg-selectors.js"),e.view.ArgHierarchySelector=a("./views/arg-hierarchy-selector.js")},{"./controllers/args.js":1,"./controllers/data-type.js":2,"./controllers/extension.js":3,"./controllers/extensions.js":4,"./controllers/fields.js":5,"./controllers/reactor.js":6,"./controllers/reactors.js":7,"./views/arg-hierarchy-selector.js":9,"./views/arg-selector.js":10,"./views/arg-selectors.js":11,"./views/base.js":12,"./views/reaction.js":13,"./views/reactions.js":14}],9:[function(a,b,c){var d,e=wp.wordpoints.hooks.view.Base,f=wp.wordpoints.hooks.Args,g=wp.wordpoints.hooks.template,h=Backbone.$;d=e.extend({namespace:"arg-hierarchy-selector",tagName:"div",template:g("hook-arg-selector"),events:{"change select":"triggerChange"},initialize:function(a){a.hierarchies&&(this.hierarchies=a.hierarchies)},render:function(){return this.$el.append(this.template({label:this.label,name:this.cid})),this.$select=this.$("select"),_.each(this.hierarchies,function(a,b){var c=h("<option></option>").val(b).text(f.buildHierarchyHumanId(a));this.$select.append(c)},this),this.trigger("render",this),this},triggerChange:function(a){var b,c,d=this.$select.val();if(d!==this.currentIndex){if(this.currentIndex=d,d!==!1){if(b=this.hierarchies[d],!b)return;c=b[b.length-1]}this.trigger("change",this,c,d,a)}},getHierarchy:function(){var a=[];return _.each(this.getHierarchyArgs(),function(b){a.push(b.get("slug"))}),a},getHierarchyArgs:function(){return this.hierarchies[this.currentIndex]}}),b.exports=d},{}],10:[function(a,b,c){var d,e=wp.wordpoints.hooks.view.Base,f=wp.wordpoints.hooks.template;d=e.extend({namespace:"arg-selector",template:f("hook-arg-selector"),optionTemplate:f("hook-arg-option"),events:{"change select":"triggerChange"},initialize:function(a){this.label=a.label,this.number=a.number,this.listenTo(this.collection,"update",this.render),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.$el.html(this.template({label:this.label,name:this.cid+"_"+this.number})),this.$select=this.$("select"),this.collection.each(function(a){this.$select.append(this.optionTemplate(a.attributes))},this),this.trigger("render",this),this},triggerChange:function(a){var b=this.$select.val();"0"===b&&(b=!1),this.trigger("change",this,b,a)}}),b.exports=d},{}],11:[function(a,b,c){var d,e=wp.wordpoints.hooks.view.Base,f=wp.wordpoints.hooks.view.ArgSelector;d=e.extend({namespace:"arg-selectors",tagName:"div",initialize:function(a){a.args&&(this.args=a.args),this.hierarchy=[]},render:function(){var a,b=this.args;return 1===b.length&&(a=b.at(0),this.hierarchy.push({arg:a}),b=a.getChildren()),this.addSelector(b),this},addSelector:function(a){var b=new f({collection:a,number:this.hierarchy.length});b.render(),this.$el.append(b.$el),b.$("select").focus(),this.hierarchy.push({selector:b}),this.listenTo(b,"change",this.update)},update:function(a,b){var c,d=a.number;this.hierarchy[d].arg&&b===this.hierarchy[d].arg.get("slug")||b&&!(c=a.collection.get(b))||(this.trigger("changing",this,c,b),b?(this.hierarchy[d].arg=c,this.updateChildren(d)):(this.hideChildren(d),delete this.hierarchy[d].arg),this.trigger("change",this,c,b))},updateChildren:function(a){var b,c=this.hierarchy[a].arg;if(c.getChildren){if(b=c.getChildren(),b.length&&"relationship"===c.get("_type")){var d=b.at(0);if(!d.getChildren)return void this.hideChildren(a);b=d.getChildren()}this.hideChildren(a+1),this.hierarchy[a+1]?(this.hierarchy[a+1].selector.collection.reset(b.models),this.hierarchy[a+1].selector.$el.show().find("select").focus()):this.addSelector(b)}else this.hideChildren(a)},hideChildren:function(a){_.each(this.hierarchy.slice(a+1),function(a){a.selector.$el.hide(),delete a.arg})},getHierarchy:function(){var a=[];return _.each(this.hierarchy,function(b){b.arg&&(a.push(b.arg.get("slug")),"relationship"===b.arg.get("_type")&&a.push(b.arg.get("secondary")))}),a}}),b.exports=d},{}],12:[function(a,b,c){var d,e=wp.wordpoints.hooks,f=e.util.extend;d=Backbone.View.extend({namespace:"_base",initialize:function(a){"undefined"!=typeof a.namespace&&(this.namespace=a.namespace),"undefined"!=typeof a.reaction&&(this.reaction=a.reaction),this.__child__.initialize.apply(this,arguments),e.trigger(this.namespace+":view:init",this)}},{extend:f}),b.exports=d},{}],13:[function(a,b,c){var d,e=wp.wordpoints.hooks.view.Base,f=wp.wordpoints.hooks.Fields,g=wp.wordpoints.hooks.Reactors,h=wp.wordpoints.hooks.Args,i=Backbone.$,j=wp.wordpoints.hooks.view.l10n,k=wp.wordpoints.hooks.view.data;d=e.extend({namespace:"reaction",className:"wordpoints-hook-reaction",template:wp.wordpoints.hooks.template("hook-reaction"),events:function(){var a={"click .actions .delete":"confirmDelete","click .save":"save","click .cancel":"cancel","click .close":"close","click .edit":"edit","change .fields *":"lockOpen"};return"oninput"in document.createElement("input")?a["input input"]="lockOpen":a["keyup input"]="maybeLockOpen",a},initialize:function(){this.listenTo(this.model,"change:description",this.renderDescription),this.listenTo(this.model,"change:reactor",this.setReactor),this.listenTo(this.model,"change:reactor",this.renderTarget),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"sync",this.showSuccess),this.listenTo(this.model,"error",this.showAjaxErrors),this.listenTo(this.model,"invalid",this.showValidationErrors),this.on("render:settings",this.renderTarget),this.setReactor()},render:function(){return this.$el.html(this.template()),this.$title=this.$(".title"),this.$fields=this.$(".fields"),this.$settings=this.$fields.find(".settings"),this.$target=this.$fields.find(".target"),this.renderDescription(),this.trigger("render",this),this},renderDescription:function(){this.$title.text(this.model.get("description")),this.trigger("render:title",this)},renderFields:function(){var a=this.getCurrentActionType();this.trigger("render:settings",this.$settings,a,this),this.trigger("render:fields",this.$fields,a,this),this.renderedFields=!0},renderTarget:function(){var a,b=this.Reactor.get("arg_types");a=1===b.length?{_canonical:b[0],_type:"entity"}:function(a){return"entity"===a.get("_type")&&_.contains(b,a.get("_canonical"))};var c=h.getHierarchiesMatching({event:this.model.get("event"),end:a}),d=[];_.each(c,function(a){d.push({label:h.buildHierarchyHumanId(a),value:_.pluck(_.pluck(a,"attributes"),"slug").join(",")})});var e=this.model.get("target");_.isArray(e)&&(e=e.join(","));var g=this.Reactor.get("target_label");g||(g=j.target_label),this.model.isNew()||(g+=" "+j.cannotBeChanged);var i=f.create("target",e,{type:"select",options:d,label:g});this.$target.html(i),this.model.isNew()||this.$target.find("select").prop("disabled",!0)},setReactor:function(){this.Reactor=g.get(this.model.get("reactor"))},getCurrentActionType:function(){var a=k.event_action_types[this.model.get("event")];if(a)for(var b=this.Reactor.get("action_types"),c=0;c<b.length;c++)if(a[b[c]])return b[c]},edit:function(){this.renderedFields||this.renderFields(),this.$fields.slideDown("fast"),this.$el.addClass("editing")},close:function(){this.$fields.slideUp("fast"),this.$el.removeClass("editing"),this.$(".success").hide()},maybeLockOpen:function(a){var b=i(a.target),c=f.getAttrSlug(this.model,b.attr("name"));b.val()!==this.model.get(c)+""&&this.lockOpen()},lockOpen:function(){this.cancelling||(this.$el.addClass("changed"),this.$(".save").prop("disabled",!1),this.$(".success").fadeOut())},cancel:function(){return this.$el.hasClass("new")?(this.model.collection.trigger("cancel-add-new"),this.remove(),void wp.a11y.speak(j.discardedReaction)):(this.$el.removeClass("changed"),this.$(".save").prop("disabled",!0),this.cancelling=!0,this.renderFields(),this.trigger("cancel"),wp.a11y.speak(j.discardedChanges),void(this.cancelling=!1))},save:function(){this.wait(),this.$(".save").prop("disabled",!0),wp.a11y.speak(j.saving);var a=f.getFormData(this.model,this.$fields);a.target&&(a.target=a.target.split(",")),this.model.save(a,{wait:!0,rawAtts:a})},wait:function(){this.$(".spinner-overlay").show(),this.$(".err").slideUp()},confirmDelete:function(){var a=i("<div></div>"),b=this;this.$(".messages div").slideUp(),a.attr("title",j.confirmTitle).append(i("<p></p>").text(j.confirmAboutTo)).append(i("<p></p>").append(i("<b></b>").text(this.model.get("description")))).append(i("<p></p>").text(j.confirmDelete)).dialog({dialogClass:"wp-dialog wordpoints-delete-hook-reaction-dialog",resizable:!1,draggable:!1,height:"auto",modal:!0,buttons:[{text:j.cancelText,"class":"button-secondary",click:function(){i(this).dialog("destroy")}},{text:j.deleteText,"class":"button-primary",click:function(){i(this).dialog("destroy"),b.destroy()}}]})},destroy:function(){wp.a11y.speak(j.deleting),this.wait(),this.model.destroy({wait:!0,success:function(){wp.a11y.speak(j.reactionDeleted)}})},showValidationErrors:function(a,b){this.showError(b)},showAjaxErrors:function(a,b){var c;c=_.isEmpty(b.errors)?b.message?b.message:j.unexpectedError:b.errors,this.showError(c)},showError:function(a){var b=[],c=[],d=this.$(".messages .err");this.$(".spinner-overlay").hide(),_.isArray(a)?(_.each(a,function(a){var d,e;if(!a.field)return void b.push(a.message);if(e=f.getFieldName(a.field).replace(/[^a-z0-9-_\[\]\{}\\]/gi,"").replace(/\\/g,"\\\\"),d=this.$('[name="'+e+'"]'),0===d.length){if(d=this.$('[name^="'+e+'"]'),0===d.length)return void b.push(a.message);d=d.first()}d.before(i('<div class="message err"></div>').text(a.message)),c.push(a.message)},this),d.html(""),b.length<a.length&&b.unshift(j.fieldsInvalid),_.each(b,function(a){d.append(i("<p></p>").text(a))}),c.unshift(j.fieldsInvalid),wp.a11y.speak(c.join(" "))):(d.text(a),wp.a11y.speak(a)),d.fadeIn()},showSuccess:function(){this.$(".spinner-overlay").hide(),this.$(".success").text(j.changesSaved).slideDown(),wp.a11y.speak(j.reactionSaved),this.$target.find("select").prop("disabled",!0),this.$el.removeClass("new changed")}}),b.exports=d},{}],14:[function(a,b,c){var d,e=wp.wordpoints.hooks.view.Base,f=wp.wordpoints.hooks.view.Reaction,g=wp.wordpoints.hooks.model.Reaction;d=e.extend({namespace:"reactions",events:{"click .add-reaction":"initAddReaction"},initialize:function(){this.$reactionGroup=this.$(".wordpoints-hook-reaction-group"),this.$addReaction=this.$(".add-reaction"),this.$events=this.$(".wordpoints-hook-events"),0!==this.$events.length&&2===this.$events.children("option").length&&this.$events.prop("selectedIndex",1).hide(),this.$addReaction.prop("disabled",!1),this.listenTo(this.model,"add",this.addOne),this.listenTo(this.model,"reset",this.addAll),this.listenTo(this.model,"cancel-add-new",this.cancelAddReaction),this.addAll()},addOne:function(a){var b=new f({model:a}),c=b.render().el,d=""===a.get("description");d&&(b.edit(),b.lockOpen(),b.$el.addClass("new")),this.$reactionGroup.append(c),d&&b.$fields.find(":input:visible").first().focus()},addAll:function(){this.model.each(this.addOne,this),this.$(".spinner-overlay").fadeOut()},getReactionDefaults:function(){var a={};if(0!==this.$events.length){var b=this.$events.val();a.event=b,a.nonce=this.$events.find('option[value="'+b.replace(/[^a-z0-9-_]/gi,"")+'"]').data("nonce")}else a.event=this.$reactionGroup.data("wordpoints-hooks-hook-event"),a.nonce=this.$reactionGroup.data("wordpoints-hooks-create-nonce");return a.reactor=this.$reactionGroup.data("wordpoints-hooks-reactor"),a.reaction_store=this.$reactionGroup.data("wordpoints-hooks-reaction-store"),this.trigger("hook-reaction-defaults",a,this),a},initAddReaction:function(){var a=this.getReactionDefaults();this.$addReaction.prop("disabled",!0);var b=new g(a);this.model.add([b]),this.listenToOnce(b,"sync",function(){this.$addReaction.prop("disabled",!1)})},cancelAddReaction:function(){this.$addReaction.prop("disabled",!1)}}),b.exports=d},{}]},{},[8]);